<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>الاختبار الإلكتروني</title>

<style>
body{
  font-family: "Cairo","Tajawal",sans-serif;
  background:#f6f7fb;
  margin:0;
  padding:12px;
}

.exam-box{
  max-width:900px;
  margin:auto;
  background:#fff;
  border-radius:16px;
  padding:16px;
  box-shadow:0 10px 30px rgba(0,0,0,.1);
}

.header{
  display:flex;
  justify-content:space-between;
  align-items:center;
  margin-bottom:10px;
}

.header h2{
  margin:0;
  font-size:20px;
}

.model-select button{
  border:0;
  padding:8px 14px;
  margin:2px;
  border-radius:20px;
  font-weight:700;
  cursor:pointer;
  background:#e0e0ff;
}
.model-select button.active{
  background:#6b5bd6;
  color:#fff;
}

.text-box{
  background:#f3f4ff;
  padding:14px;
  border-radius:12px;
  margin:14px 0;
  line-height:1.9;
  font-weight:600;
}

.question{
  margin-bottom:14px;
  padding-bottom:10px;
  border-bottom:1px dashed #ddd;
}

.question h4{
  margin:0 0 8px;
  font-size:15px;
}

.options{
  display:grid;
  grid-template-columns: repeat(4,1fr);
  gap:8px;
}

.option{
  border:2px solid #bbb;
  border-radius:50px;
  padding:6px;
  text-align:center;
  cursor:pointer;
  font-weight:700;
  background:#fff;
}

.option.selected{
  background:#6b5bd6;
  color:#fff;
  border-color:#6b5bd6;
}

.finish{
  margin-top:20px;
  text-align:center;
}

.finish button{
  border:0;
  padding:12px 24px;
  border-radius:30px;
  background:#15b26b;
  color:#fff;
  font-size:16px;
  font-weight:800;
  cursor:pointer;
}

.score{
  margin-top:12px;
  font-size:18px;
  font-weight:900;
}
</style>
</head>

<body>

<div class="exam-box">

  <div class="header">
    <h2>الاختبار الإلكتروني – لغتي</h2>
    <div class="model-select">
      <button onclick="loadModel('A')" class="active" id="btnA">نموذج أ</button>
      <button onclick="loadModel('B')" id="btnB">نموذج ب</button>
      <button onclick="loadModel('C')" id="btnC">نموذج ج</button>
      <button onclick="loadModel('D')" id="btnD">نموذج د</button>
    </div>
  </div>

  <div id="text" class="text-box"></div>

  <div id="questions"></div>

  <div class="finish">
    <button onclick="finishExam()">إنهاء الاختبار</button>
    <div class="score" id="score"></div>
  </div>

</div>

<script>
const models = {
A:{
text:`النص:
تعاونَ طلابُ الصفِّ في تنظيفِ الفصلِ، فقام بعضُهم بترتيبِ المقاعد،
وقام آخرون بتنظيفِ السبورة، وشعر الجميع بالسعادة بعد انتهاء العمل.`,

questions:[
{q:"ما الفكرة العامة للنص؟",a:["التعاون في تنظيف الفصل","اللعب في الساحة","زيارة المكتبة","رحلة مدرسية"],c:0},
{q:"بماذا شعر الطلاب بعد انتهاء العمل؟",a:["السعادة","التعب","الغضب","الملل"],c:0},
{q:"أين حدثت القصة؟",a:["في الفصل","في السوق","في الحديقة","في المنزل"],c:0},
// ✨ كمّلي حتى 20 سؤال بنفس النمط
]
},

B:{ text:"نص النموذج ب", questions:[] },
C:{ text:"نص النموذج ج", questions:[] },
D:{ text:"نص النموذج د", questions:[] },
};

let currentModel="A";
let answers={};

function loadModel(m){
  currentModel=m;
  answers={};
  document.querySelectorAll(".model-select button").forEach(b=>b.classList.remove("active"));
  document.getElementById("btn"+m).classList.add("active");

  document.getElementById("text").innerText=models[m].text;
  const qBox=document.getElementById("questions");
  qBox.innerHTML="";

  models[m].questions.forEach((q,i)=>{
    const div=document.createElement("div");
    div.className="question";
    div.innerHTML=`<h4>${i+1}. ${q.q}</h4>`;
    const opts=document.createElement("div");
    opts.className="options";

    q.a.forEach((op,idx)=>{
      const o=document.createElement("div");
      o.className="option";
      o.innerText=["أ","ب","ج","د"][idx];
      o.onclick=()=>{
        answers[i]=idx;
        [...opts.children].forEach(x=>x.classList.remove("selected"));
        o.classList.add("selected");
      };
      opts.appendChild(o);
    });

    div.appendChild(opts);
    qBox.appendChild(div);
  });

  document.getElementById("score").innerText="";
}

function finishExam(){
  let score=0;
  models[currentModel].questions.forEach((q,i)=>{
    if(answers[i]===q.c) score++;
  });
  document.getElementById("score").innerText=`درجتك: ${score} / ${models[currentModel].questions.length}`;
}

loadModel("A");
</script>

</body>
</html>
